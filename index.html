<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RailBook Pro - Premium Indian Railway Booking System</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-train"></i>
                    <span>RailBook Pro</span>
                </div>
                <nav class="nav-menu" id="navMenu">
                    <a href="#" onclick="showSection('dashboard')" class="nav-link">Dashboard</a>
                    <a href="#" onclick="showSection('search')" class="nav-link">Search Trains</a>
                    <a href="#" onclick="showSection('bookings')" class="nav-link">My Bookings</a>
                    <a href="#" onclick="showSection('profile')" class="nav-link">Profile</a>
                    <a href="#" onclick="showSection('admin')" class="nav-link admin-only hidden">Admin Panel</a>
                    <button class="btn btn--secondary btn--sm" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </nav>
                <div class="user-info">
                    <span id="currentUserName">Guest</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Landing Page -->
    <section id="landing" class="landing-section">
        <div class="landing-container">
            <div class="landing-hero">
                <h1 class="landing-title">
                    <i class="fas fa-train"></i>
                    Welcome to RailBook Pro
                </h1>
                <p class="landing-subtitle">Your premium Indian Railway booking experience with 30+ trains and 500+ stations</p>
                
                <div class="auth-tabs">
                    <button class="tab-btn active" onclick="switchTab('login')">Login</button>
                    <button class="tab-btn" onclick="switchTab('register')">Register</button>
                </div>

                <!-- Login Form -->
                <form id="loginForm" class="auth-form active">
                    <h3>Welcome Back</h3>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-control" id="loginEmail" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" id="loginPassword" placeholder="Enter your password" required>
                    </div>
                    <button type="submit" class="btn btn--primary btn--full-width">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                    <p class="demo-info">Demo: admin@railbook.com / admin123 (Admin) or user@railbook.com / user123 (User)</p>
                </form>

                <!-- Register Form -->
                <form id="registerForm" class="auth-form">
                    <h3>Create Account</h3>
                    <div class="form-group">
                        <label class="form-label">Full Name</label>
                        <input type="text" class="form-control" id="registerName" placeholder="Enter your full name" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-control" id="registerEmail" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Phone Number</label>
                        <input type="tel" class="form-control" id="registerPhone" placeholder="Enter your phone number" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" id="registerPassword" placeholder="Create a password" required>
                        <div class="password-strength" id="passwordStrength"></div>
                    </div>
                    <button type="submit" class="btn btn--primary btn--full-width">
                        <i class="fas fa-user-plus"></i> Create Account
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Main Application -->
    <main id="app" class="app-main hidden">
        <!-- Dashboard Section -->
        <section id="dashboard" class="app-section active">
            <div class="container">
                <div class="dashboard-header">
                    <h1>Welcome to your Dashboard</h1>
                    <p>Search through 30+ premium trains and 500+ stations across India</p>
                </div>
                
                <div class="quick-search-card">
                    <h2>Quick Train Search</h2>
                    <form id="quickSearchForm" class="search-form">
                        <div class="search-row">
                            <div class="form-group">
                                <label class="form-label">From</label>
                                <input type="text" class="form-control station-autocomplete" id="quickFromStation" placeholder="Enter departure station" required autocomplete="off">
                                <div class="autocomplete-dropdown hidden" id="fromStationDropdown"></div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">To</label>
                                <input type="text" class="form-control station-autocomplete" id="quickToStation" placeholder="Enter destination station" required autocomplete="off">
                                <div class="autocomplete-dropdown hidden" id="toStationDropdown"></div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Date</label>
                                <input type="date" class="form-control" id="quickTravelDate" required>
                            </div>
                            <button type="submit" class="btn btn--primary search-btn">
                                <i class="fas fa-search"></i> Search
                            </button>
                        </div>
                    </form>
                </div>

                <div class="dashboard-stats">
                    <div class="stat-card">
                        <i class="fas fa-ticket-alt"></i>
                        <div>
                            <h3 id="totalBookings">0</h3>
                            <p>Total Bookings</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-clock"></i>
                        <div>
                            <h3 id="upcomingTrips">0</h3>
                            <p>Upcoming Trips</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-rupee-sign"></i>
                        <div>
                            <h3 id="totalSpent">â‚¹0</h3>
                            <p>Total Spent</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-train"></i>
                        <div>
                            <h3 id="totalTrains">30</h3>
                            <p>Available Trains</p>
                        </div>
                    </div>
                </div>

                <div class="popular-routes">
                    <h2>Popular Routes</h2>
                    <div class="route-cards" id="popularRoutes"></div>
                </div>
            </div>
        </section>

        <!-- Search Results Section -->
        <section id="search" class="app-section">
            <div class="container">
                <div class="search-header">
                    <h1>Train Search Results</h1>
                    <div class="search-info" id="searchInfo"></div>
                    <div class="search-filters">
                        <select class="form-control filter-select" id="sortBy">
                            <option value="departure">Sort by Departure</option>
                            <option value="duration">Sort by Duration</option>
                            <option value="price">Sort by Price</option>
                            <option value="availability">Sort by Availability</option>
                        </select>
                        <select class="form-control filter-select" id="trainTypeFilter">
                            <option value="">All Train Types</option>
                            <option value="Rajdhani">Rajdhani Express</option>
                            <option value="Shatabdi">Shatabdi Express</option>
                            <option value="Duronto">Duronto Express</option>
                            <option value="Express">Express</option>
                            <option value="Jan Shatabdi">Jan Shatabdi</option>
                            <option value="Garib Rath">Garib Rath</option>
                        </select>
                        <select class="form-control filter-select" id="classFilter">
                            <option value="">All Classes</option>
                            <option value="GN">General</option>
                            <option value="SL">Sleeper</option>
                            <option value="3A">AC 3-Tier</option>
                            <option value="2A">AC 2-Tier</option>
                            <option value="1A">AC 1-Tier</option>
                        </select>
                    </div>
                </div>
                
                <div id="searchResults" class="search-results">
                    <div class="no-results">
                        <i class="fas fa-search"></i>
                        <p>Use the search form to find trains</p>
                        <p>All 30 trains in our database are available for search</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Booking Section -->
        <section id="booking" class="app-section">
            <div class="container">
                <div class="booking-progress">
                    <div class="progress-step active" data-step="1">
                        <span>1</span> Select Seats
                    </div>
                    <div class="progress-step" data-step="2">
                        <span>2</span> Passenger Details
                    </div>
                    <div class="progress-step" data-step="3">
                        <span>3</span> Payment
                    </div>
                    <div class="progress-step" data-step="4">
                        <span>4</span> Confirmation
                    </div>
                </div>

                <div id="bookingStep1" class="booking-step active">
                    <div class="selected-train-info" id="selectedTrainInfo"></div>
                    <div class="class-selection">
                        <h3>Select Class</h3>
                        <div id="classOptions" class="class-options"></div>
                    </div>
                    <div class="passenger-count">
                        <h3>Number of Passengers</h3>
                        <div class="counter">
                            <button type="button" onclick="changePassengerCount(-1)">-</button>
                            <span id="passengerCount">1</span>
                            <button type="button" onclick="changePassengerCount(1)">+</button>
                        </div>
                    </div>
                    <button class="btn btn--primary" onclick="proceedToPassengerDetails()">
                        Proceed to Passenger Details
                    </button>
                </div>

                <div id="bookingStep2" class="booking-step">
                    <h3>Passenger Details</h3>
                    <form id="passengerDetailsForm">
                        <div id="passengerForms"></div>
                        <div class="form-actions">
                            <button type="button" class="btn btn--secondary" onclick="goToBookingStep(1)">Back</button>
                            <button type="submit" class="btn btn--primary">Proceed to Payment</button>
                        </div>
                    </form>
                </div>

                <div id="bookingStep3" class="booking-step">
                    <h3>Payment</h3>
                    <div class="payment-summary" id="paymentSummary"></div>
                    <div class="payment-methods">
                        <h4>Select Payment Method</h4>
                        <div class="payment-options">
                            <label class="payment-option">
                                <input type="radio" name="paymentMethod" value="card" checked>
                                <i class="fas fa-credit-card"></i>
                                Credit/Debit Card
                            </label>
                            <label class="payment-option">
                                <input type="radio" name="paymentMethod" value="upi">
                                <i class="fas fa-mobile-alt"></i>
                                UPI
                            </label>
                            <label class="payment-option">
                                <input type="radio" name="paymentMethod" value="wallet">
                                <i class="fas fa-wallet"></i>
                                Wallet
                            </label>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn--secondary" onclick="goToBookingStep(2)">Back</button>
                        <button type="button" class="btn btn--primary" onclick="processPayment()">
                            <i class="fas fa-lock"></i> Pay Securely
                        </button>
                    </div>
                </div>

                <div id="bookingStep4" class="booking-step">
                    <div class="booking-success">
                        <i class="fas fa-check-circle"></i>
                        <h2>Booking Confirmed!</h2>
                        <div id="bookingConfirmation"></div>
                        <div class="form-actions">
                            <button class="btn btn--primary" onclick="downloadTicket()">
                                <i class="fas fa-download"></i> Download E-Ticket
                            </button>
                            <button class="btn btn--secondary" onclick="showSection('bookings')">
                                View All Bookings
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- My Bookings Section -->
        <section id="bookings" class="app-section">
            <div class="container">
                <h1>My Bookings</h1>
                <div id="bookingsList" class="bookings-list"></div>
            </div>
        </section>

        <!-- Profile Section -->
        <section id="profile" class="app-section">
            <div class="container">
                <h1>My Profile</h1>
                <div class="profile-card">
                    <form id="profileForm">
                        <div class="form-group">
                            <label class="form-label">Full Name</label>
                            <input type="text" class="form-control" id="profileName" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" id="profileEmail" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Phone Number</label>
                            <input type="tel" class="form-control" id="profilePhone" required>
                        </div>
                        <button type="submit" class="btn btn--primary">Update Profile</button>
                    </form>
                </div>
            </div>
        </section>

        <!-- Admin Panel Section -->
        <section id="admin" class="app-section">
            <div class="container">
                <h1>Admin Panel</h1>
                <div class="admin-tabs">
                    <button class="tab-btn active" onclick="switchAdminTab('trains')">Manage Trains</button>
                    <button class="tab-btn" onclick="switchAdminTab('bookings')">All Bookings</button>
                    <button class="tab-btn" onclick="switchAdminTab('users')">Users</button>
                    <button class="tab-btn" onclick="switchAdminTab('analytics')">Analytics</button>
                </div>

                <div id="adminTrains" class="admin-tab-content active">
                    <div class="admin-header">
                        <h2>Train Management (30 Trains)</h2>
                        <button class="btn btn--primary" onclick="showAddTrainModal()">
                            <i class="fas fa-plus"></i> Add New Train
                        </button>
                    </div>
                    <div class="search-admin">
                        <input type="text" class="form-control" id="trainSearchInput" placeholder="Search trains by name or number..." onkeyup="filterTrainsTable()">
                    </div>
                    <div id="trainsTable" class="data-table"></div>
                </div>

                <div id="adminBookings" class="admin-tab-content">
                    <h2>All Bookings</h2>
                    <div id="allBookingsTable" class="data-table"></div>
                </div>

                <div id="adminUsers" class="admin-tab-content">
                    <h2>User Management</h2>
                    <div id="usersTable" class="data-table"></div>
                </div>

                <div id="adminAnalytics" class="admin-tab-content">
                    <h2>System Analytics</h2>
                    <div class="analytics-cards">
                        <div class="stat-card">
                            <i class="fas fa-users"></i>
                            <div>
                                <h3 id="totalUsers">0</h3>
                                <p>Total Users</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-train"></i>
                            <div>
                                <h3 id="totalSystemTrains">30</h3>
                                <p>Total Trains</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-map-marker-alt"></i>
                            <div>
                                <h3 id="totalStations">28</h3>
                                <p>Total Stations</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-rupee-sign"></i>
                            <div>
                                <h3 id="totalRevenue">â‚¹0</h3>
                                <p>Total Revenue</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Add Train Modal -->
    <div id="addTrainModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Train</h3>
                <button class="modal-close" onclick="hideModal('addTrainModal')">&times;</button>
            </div>
            <form id="addTrainForm">
                <div class="form-group">
                    <label class="form-label">Train Number</label>
                    <input type="text" class="form-control" id="trainNumber" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Train Name</label>
                    <input type="text" class="form-control" id="trainName" required>
                </div>
                <div class="form-group">
                    <label class="form-label">From Station</label>
                    <input type="text" class="form-control station-autocomplete" id="trainFromStation" required autocomplete="off">
                    <div class="autocomplete-dropdown hidden" id="trainFromStationDropdown"></div>
                </div>
                <div class="form-group">
                    <label class="form-label">To Station</label>
                    <input type="text" class="form-control station-autocomplete" id="trainToStation" required autocomplete="off">
                    <div class="autocomplete-dropdown hidden" id="trainToStationDropdown"></div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Departure Time</label>
                        <input type="time" class="form-control" id="departureTime" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Arrival Time</label>
                        <input type="time" class="form-control" id="arrivalTime" required>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Total Seats</label>
                    <input type="number" class="form-control" id="totalSeats" min="50" max="500" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Train Type</label>
                    <select class="form-control" id="trainType" required>
                        <option value="">Select Type</option>
                        <option value="Rajdhani">Rajdhani Express</option>
                        <option value="Shatabdi">Shatabdi Express</option>
                        <option value="Duronto">Duronto Express</option>
                        <option value="Express">Express</option>
                        <option value="Jan Shatabdi">Jan Shatabdi</option>
                        <option value="Garib Rath">Garib Rath</option>
                    </select>
                </div>
                <div class="price-inputs">
                    <h4>Class Pricing</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">General (â‚¹)</label>
                            <input type="number" class="form-control" id="priceGeneral" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Sleeper (â‚¹)</label>
                            <input type="number" class="form-control" id="priceSleeper" min="0" value="0">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">AC 3-Tier (â‚¹)</label>
                            <input type="number" class="form-control" id="priceAc3" min="0" value="0">
                        </div>
                        <div class="form-group">
                            <label class="form-label">AC 2-Tier (â‚¹)</label>
                            <input type="number" class="form-control" id="priceAc2" min="0" value="0">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">AC 1-Tier (â‚¹)</label>
                        <input type="number" class="form-control" id="priceAc1" min="0" value="0">
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn--secondary" onclick="hideModal('addTrainModal')">Cancel</button>
                    <button type="submit" class="btn btn--primary">Add Train</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-spinner">
            <i class="fas fa-train"></i>
            <p>Loading Indian Railway data...</p>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast" class="toast hidden">
        <div class="toast-content">
            <span id="toastMessage"></span>
            <button onclick="hideToast()">&times;</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>